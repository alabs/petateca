<div id="episode_list" class="left">
  <ul>
    <!-- li>
        <a class="zoom" href="{{ season.get_season }}"><strong>Temporada {{ season.season }} Completa</strong>
        <img class="right" src="/static/images/list-add.png" style="margin-bottom:0 !important;"></a>
        <div class="list_inside"></div>
    </li -->
  {% for episode in episode_list %}
    <li>
        <!-- input style="margin-left:1em;" type="checkbox" name="view" class="left" -->
        <a class="zoom" {% if episode.from_future %}id="future" {% endif %}href="/series/lookup/links/{{ season.serie.id }}/{{season.season}}/{{episode.episode}}/">
            <strong>{{ episode.season_episode }}</strong>- {{ episode.title }} - <span id="datemeta">({{ episode.air_date|date:"SHORT_DATE_FORMAT" }})</span>
        <img class="right" src="/static/images/download.png" style="margin-bottom:0 !important;">
        <img class="right espoiler" id="{{ episode.id }}" rel="/series/lookup/espoiler/{{ season.serie.id }}/{{season.season}}/{{episode.episode}}/" src="/static/images/emblem-photos.png" style="margin-bottom:0 !important;">
        <img id="{{ episode.id }}" rel="/series/lookup/add_link/" class="add_link right" src="/static/images/list-add.png" style="margin-bottom:0 !important;">
        </a>
        <div class="list_inside" id="inside{{episode.id}}"></div>
    </li>
  {% endfor %}
  </ul>
</div>

<script>

    $(document).ready(function() {  
$(".zoom").click( function(){
    $(this).addClass('selected_list');
    $inside = $(this).siblings();
    $inside.html('<img class="center" src="/static/images/ajax-loading-bar.gif" />');
    href = $(this).attr('href');
    $inside.load(href);
    return false;
});


$(".espoiler").click( function(e){
    e.preventDefault();
    $(this).parent().addClass('selected_list');
    episodeid = $(this).attr('id');
    $inside = $('#inside' + episodeid);
    $inside.html('<img class="center" src="/static/images/ajax-loading-bar.gif" />');
    espoiler_id = $(this).attr('rel');
    $inside.load(espoiler_id);
    return false;
});


$(".add_link").click( function(e){
    e.preventDefault();
    $(this).parent().addClass('selected_list');
    episodeid = $(this).attr('id');
    $inside = $('#inside' + episodeid);
    $inside.html('<img class="center" src="/static/images/ajax-loading-bar.gif" />');
    episode_rel = $(this).attr('rel');
    $inside.load(episode_rel + episodeid + '/');
    return false;
});

      
  //      $('#title').click(function(){  
  //      $(this).addClass('selected_list');
  //    
  //      var toLoad = $(this).attr('href');
  //      $('#content').hide('fast',loadContent);  
  //      $('#load').remove();  
  //      $('#wrapper').append('<span id="load">LOADING...</span>');  
  //      $('#load').fadeIn('normal');  
  //      function loadContent() {  
  //          $('#content').load(toLoad,'',showNewContent())  
  //      }  
  //      function showNewContent() {  
  //          $('#content').show('normal',hideLoader());  
  //      }  
  //      function hideLoader() {  
  //          $('#load').fadeOut('normal');  
  //      }  
  //      $(this).slideDown();
  //      return false;  
  //    
  //      });  
    });  
</script>
